<!DOCTYPE html>
<html lang="en">
<style>

    .results{
        height: 290px;
    }

    .c-results{
        background-color: #a3989c;
    }

    .table td, .table th {
    color: black;
    padding: .75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
}

#turn { width: 100px; }

#progress { width: 80px; }

.table {
	width: 1000px;
	height: 80px;
	border: none;
}

.table th { background-color: #5A6074; }

.table td {
	text-align: right;
	padding-right: 8px;
	padding-left: 8px;
}

.table th, .table td {
	border: solid 2px #5A6074;
	border-radius: 5px;
}

#sur-th { background-color: #1E1F26; }

#sur-th, #sur-td { border: none; }

#sur-td {
	background-color: #5A6074;
	text-align: center;
	border-radius: 5px;
	font-weight: bold;
}

.red { color: red; }

.yellow { color: yellow; }

select {
	border: none;
	border-radius: 5px;
	background-color: #5A6074;
	color: white;
	width: 300px;
	height: 40px;
	font-weight: bold;
	padding-left: 6px;
}

select:hover {
	cursor: pointer;
	color: #D0D0D2;
}

.middle {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%,-50%);
}

@media screen and (orientation: portrait) {

	.rotate { transform: rotate(90deg); }
	
	.table {
		width: 350px;
		height: 35px;
	}
	
	select {
		width: 130px;
		height: 25px;
	}
	
	h1 { font-size: 20px; }
	
	h2 { font-size: 15px; }
	
}

@media screen and (max-height: 500px) {

	.table {
		width: 350px;
		height: 35px;
	}
	
	select {
		width: 130px;
		height: 25px;
	}
	
	h1 { font-size: 20px; }
	
	h2 { font-size: 15px; }

}

@import url("https://fonts.googleapis.com/css2?family=Sen&display=swap");

.social-distance{
    background-color: #1abc9c;
    color: #fff;
    min-height: 55vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.text {
  font-size: 40px;
  transition: 2s all;
  text-align: center;
  margin-bottom: 10px;
}

.text2 {
  font-size: 20px;
  transition: 2s all;
  text-align: center;
  margin-bottom: 10px;
}

p {
  text-align: center;
  font-size: 17px;
}

.spaced {
  letter-spacing: 30px;
}

.spaced2 {
  letter-spacing: 10px;
}

.icons {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
}
.icons .advice {
  margin: 0px;
  transition: 0.5s all;
  text-align: center;
  animation: anim 2s forwards;
}
.icons .advice .fas {
  font-size: 30px;
  animation: anim 2s forwards;
}

@keyframes anim {
  to {
    padding: 16px;
  }
}
@media screen and (max-width: 420px) {
  .spaced {
    letter-spacing: 8px;
  }

  .spaced {
    letter-spacing: 8px;
  }
}

    .loader-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
    }

    .loader-wrapper .loader {
        display: block;
        position: relative;
        left: 50%;
        top: 50%;
        width: 100px;
        height: 100px;
        margin-top: -50px;
        margin-left: -50px;
        border: 3px solid transparent;
        border-top-color: white;
        border-radius: 50%;
        z-index: 1001;
        -webkit-animation: spin 1.5s infinite linear;
        animation: spin 1.5s infinite linear;
    }

    .loader-wrapper .loader:before,
    .loader-wrapper .loader:after {
        content: '';
        position: absolute;
        border-radius: 50%;
    }

    .loader-wrapper .loader:before {
        top: 5px;
        left: 5px;
        right: 5px;
        bottom: 5px;
        border: 3px solid transparent;
        border-top-color: white;
        -webkit-animation: spin 2s infinite linear;
        animation: spin 2s infinite linear;
    }

    .loader-wrapper .loader:after {
        top: 15px;
        left: 15px;
        right: 15px;
        bottom: 15px;
        border: 3px solid transparent;
        border-top-color: white;
        -webkit-animation: spin 1s infinite linear;
        animation: spin 1s infinite linear;
    }

    @-webkit-keyframes spin {
        0% {
            -webkit-transform: rotate(0);
            transform: rotate(0);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    @keyframes spin {
        0% {
            -webkit-transform: rotate(0);
            transform: rotate(0);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    /*Section */
    .loader-section {
        position: fixed;
        top: 0;
        width: 51%;
        height: 100%;

        background: black;
        z-index: 1000;
    }

    .loader-section.section-left {
        left: 0;
    }

    .loader-section.section-right {
        right: 0;
    }

    /*Finished Loading Styles*/
    .loaded .section-left {
        -webkit-transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
        transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
        -webkit-transform: translateX(-100%);
        transform: translateX(-100%);
    }

    .loaded .section-right {
        -webkit-transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
        transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
        -webkit-transform: translateX(100%);
        transform: translateX(100%);
    }

    .loaded .loader {
        -webkit-transition: all 0.3s ease-out;
        transition: all 0.3s ease-out;
        opacity: 0;
    }

    .loaded .loader-wrapper {
        visibility: hidden;
        -webkit-transform: translateY(-100%);
        transform: translateY(-100%);
        -webkit-transition: all 0.3s 1s ease-out;
        transition: all 0.3s 1s ease-out;
    }

    /*Content*/
    .content {
        margin: 0 auto;
        padding-bottom: 50px;
        width: 80%;
        max-width: 978px;
    }
</style>
<script>

"use strict";

(() => {

	let GLOBALdata = [];
	let GLOBALselectCreated = false;
	let GLOBALfirstChoice;
	let GLOBALTotal = "Total";

	document.addEventListener('DOMContentLoaded', function(){

		GLOBALfirstChoice = getUrlParam();
		nCovValues.init();
	

	});

	const getUrlParam = function () {

		const queryString = window.location.search;
		const urlParams = new URLSearchParams(queryString);
		const urlParamExists = urlParams.get('country')

		if ( urlParamExists ) {
			
			const customCountry = urlParamExists.charAt(0).toUpperCase() + urlParamExists.slice(1).toLowerCase();
			return customCountry;

		} else {
		
			return GLOBALTotal;
		
		}

	};

	const nCovValues = ( function () {

		const getHtmlSource = function () {

			const SelectedCountry = GLOBALfirstChoice;
			const container = document.getElementById("contain-temp");
			const progressLogo = document.getElementById("contain-progress");

			let xhr = new XMLHttpRequest();
			xhr.open('GET', atob('aHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vZ2V0P3VybD1odHRwczovL3d3dy53b3JsZG9tZXRlcnMuaW5mby9jb3JvbmF2aXJ1cy8jY291bnRyaWVz'));
			xhr.addEventListener('readystatechange', function() {

				if ( xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200 ) {

					container.innerHTML =  xhr.responseText;
					GLOBALdata = document.getElementsByTagName('table')[0];
					container.innerHTML = ""
					progressLogo.innerHTML = "";
					createSelectOptions();
					extractValues(GLOBALfirstChoice);

				}

			});

			xhr.send(null); 

		};

		const createSelectOptions = function () {

			let optionList = [];
			let countryCount = 0;
			
			for ( let i = 9; i < GLOBALdata.rows.length; i++ ) {
				
				if ( GLOBALdata.rows[i].cells[1].innerText.indexOf("Total:") == -1 ) {
				
					optionList.push(GLOBALdata.rows[i].cells[1].innerText);
					countryCount++;
				
				}
				
			}

			let selectList = document.createElement("select");
			let firstOption = document.createElement("option");
			firstOption.selected = true;
			firstOption.value = GLOBALTotal;
			firstOption.text = GLOBALTotal;
			selectList.class = "select";
			selectList.appendChild(firstOption);

			selectList.addEventListener('change', function(){ nCovValues.changeCountry(this.value); });

			document.getElementById("contain-select").appendChild(selectList);

			for ( let IdCountry in optionList.sort() ){

				let newOption = document.createElement("option");
				newOption.value = optionList[IdCountry];
				newOption.text = optionList[IdCountry];
				selectList.appendChild(newOption);

				const ThisFirstChoice = GLOBALfirstChoice.charAt(0).toUpperCase() + GLOBALfirstChoice.slice(1).toLowerCase();
				
				if ( optionList[IdCountry] == ThisFirstChoice ) {

					let ThisIndex = Number(IdCountry) + 1;
					selectList.selectedIndex = ThisIndex;

				}

			}

			document.getElementById("contain-NbCoutry").innerText = countryCount + " Countries Affected";
			document.getElementById("contain-title").innerText = "COVID-19 BREAKING NEWS";

			if ( ! GLOBALselectCreated ) extractValues(GLOBALfirstChoice);
			GLOBALselectCreated = true;

		};

		const extractValues = function (SelectedCountry) {

			let covidValues = [];
			let indexData = 0;
			
			if ( SelectedCountry == GLOBALTotal ) {
			
				indexData = GLOBALdata.rows.length - 1;
				
			} else {
			
				for ( let idx = 9; idx < GLOBALdata.rows.length; idx++ ) {

					if ( GLOBALdata.rows[idx].cells[1].innerText.indexOf(SelectedCountry) != -1 ) indexData = idx;

				}
			
			}
			
			for ( let setx = 1; setx < 10 ; setx++ ) covidValues.push(GLOBALdata.rows[indexData].cells[setx].innerText);

			displayValues(covidValues);

		};

		const displayValues = function (countersValues) {

			const covCountry = countersValues[0];
			const covTotalCases = countersValues[1];
			const covNewCases = countersValues[2];
			const covTotalDeaths = countersValues[3];
			const covNewDeaths = countersValues[4];
			const covTotalRecovered = countersValues[5];
			const covActiveCases = countersValues[7];
			const covCritical = countersValues[8];

			const thisTable = document.getElementById('contain-table');
			let thisContent = '<table class="table">';
			thisContent += '<tr><th id="sur-th"></th><th>Total Cases</th><th>New Cases</th><th>Total Deaths</th><th>New Deaths</th><th>Total Recovered</th><th>Active Cases</th><th>Critical Cases</th></tr>';
			thisContent += '<tr><td id="sur-td">'+covCountry+'</td><td>'+covTotalCases+'</td><td class="yellow">'+covNewCases+'</td><td>'+covTotalDeaths+'</td><td class="red">'+covNewDeaths+'</td><td>'+covTotalRecovered+'</td><td>'+covActiveCases+'</td><td>'+covCritical+'</td></tr>';
			thisContent += '</table>';
			thisTable.innerHTML = thisContent;
			
			document.title = 'Covid-19 ' + covCountry + ' statistics';
			
		};

		return { 

			init : getHtmlSource,
			changeCountry : extractValues

		};

	})();

})();

    window.onload = function () {
        document.querySelector(".text").classList.add("spaced");
        document.querySelector(".text2").classList.add("spaced2");
    
        const steps = document.querySelectorAll(".advice");
        var count = 0;
        setInterval(() => {
        steps[count].style.display = "block";
        steps[count].style.opacity = "1.0";
        }, 3000);

    };
    

    setTimeout(function() {
        $('body').addClass('loaded');
    }, 500);
</script>

<head>
<meta charset="UTF-8">
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Impetus 21</title>
  <link rel="icon" href="/logo.png" type="image/x-icon">
  <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!--font awesome-->
  <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <!--bootstrap js-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <!--google font poppins-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="main.js"></script>
</head>

<body style="font-family:'Poppins', sans-serif;background-color:black;">
    <div id="part1" class="p-2">
        <!--style="background-color:black;"-->
        <nav class="navbar navbar-expand-md navbar-dark" style="background-color:black;color:white;">
            <a href="#" class="navbar-brand"></a>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav">
                    <a href="/" class="nav-item nav-link ">Home</a>
                    <a href="#" class="nav-item nav-link">Epsilon</a>
                    <a href="gallery" class="nav-item nav-link">Gallery</a>
                    <a href="events" class="nav-item nav-link">Events</a>
                    <a href="covid_awarness" class="nav-item nav-link active">Covid Awarness</a>

                </div>
            </div>
        </nav>
    </div>

    <!--Flagship events-->
    <div id="part2" style="background-color: white;">
        <!-- <h1 class="responsive-md text-center mt-2" style="color: black;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;">Covid Awarness</h1> -->
        
        <div class="social-distance">
            <h1 class="text">
              Social Distancing
            </h1>
            <p class="text2">
                Help prevent the spread of Coronavirus  by <img class="px-1" src="/virus-solid.svg" height="30" width="30">
              maintaining at least 1m (3ft) between you and others.
            </p>
            <div class="icons">
              <span class="advice">
                <img src="/people-arrows-solid.svg" height="60" width="50">
                <h3>Avoid physical contact</h3>
              </span>
              <span class="advice">
                <img src="/hands-wash-solid.svg" height="60" width="50">
                <h3>Wash your hands</h3>
              </span>
              <span class="advice">
                <img src="/head-side-mask-solid.svg" height="60" width="50">
                <h3>Use mask</h3>
              </span>
            </div>
          </div>

        <div class="row results">
            <div class="col-8 c-results">
                <div class="middle">
                    <div class="rotate">
                        <div id="contain-select"></div>
                        <h1 id="contain-title"></h1>
                        <div id="contain-progress"><img id="progress" src="https://thumbs.gfycat.com/BoilingTenderAruanas-small.gif"/></div>
                        <div id="contain-table"></div>
                        <h2 id="contain-NbCoutry"></h2>
                    </div>
                </div>
                
                <div id="contain-temp"></div>
                <div id="contain-visit" style="opacity:0"><img src="http://www.mon-compteur.fr/html_c01genv2-224934-1" border="0" style="width:1px;height:1px"/></div>
            </div>
            
        </div>

    </div>

    <div class="content">
        <div class="loader-wrapper">
            <div class="loader"></div>

            <div class="loader-section section-left"></div>
            <div class="loader-section section-right"></div>
        </div>
    </div>

    <!--Contact us-->
    <%- include('footer'); -%>

    </div>
 
    <style>
        /*Media Queries*/
        @media (min-width:320px) {
            .res-game {
                padding-left: 8vw;
                padding-right: 8vw;
            }

            .responsive-md {
                font-size: 24px;
            }

            .responsive-lg {
                font-size: 36px;
            }

            .responsive-tx {
                font-size: 16px;
            }

            .res-pad {
                padding: 10px;
            }

            .res-pad-flag {
                padding: 8px;
            }

            .res-mar {
                margin: 8px;
            }

            /* smartphones, iPhone, portrait 480x320 phones */
        }

        @media (min-width:481px) {
            .res-game {
                padding-left: 10vw;
                padding-right: 10vw;
            }

            .responsive-md {
                font-size: 64px;
            }

            .responsive-lg {
                font-size: 88px;
            }

            .responsive-tx {
                font-size: 32px;
            }

            .res-pad {
                padding: 20px;
            }

            .res-pad-flag {
                padding: 24px;
            }

            .res-mar {
                margin: 16px;
            }

            /* portrait e-readers (Nook/Kindle), smaller tablets @ 600 or @ 640 wide. */
        }

        @media (min-width:641px) {
            .res-game {
                padding-left: 10vw;
                padding-right: 10vw;
            }

            .responsive-md {
                font-size: 64px;
            }

            .responsive-lg {
                font-size: 88px;
            }

            .responsive-tx {
                font-size: 32px;
            }

            .res-pad {
                padding: 20px;
            }

            .res-pad-flag {
                padding: 24px;
            }

            .res-mar {
                margin: 16px;
            }

            /* portrait tablets, portrait iPad, landscape e-readers, landscape 800x480 or 854x480 phones */
        }

        @media (min-width:961px) {
            .res-game {
                padding-left: 10vw;
                padding-right: 10vw;
            }

            .responsive-md {
                font-size: 64px;
            }

            .responsive-lg {
                font-size: 88px;
            }

            .responsive-tx {
                font-size: 32px;
            }

            .res-pad {
                padding: 20px;
            }

            .res-pad-flag {
                padding: 24px;
            }

            .res-mar {
                margin: 16px;
            }

            /* tablet, landscape iPad, lo-res laptops ands desktops */
        }

        @media (min-width:1025px) {
            .res-game {
                padding-left: 10vw;
                padding-right: 10vw;
            }

            .responsive-md {
                font-size: 64px;
            }

            .responsive-lg {
                font-size: 88px;
            }

            .responsive-tx {
                font-size: 32px;
            }

            .res-pad {
                padding: 20px;
            }

            .res-pad-flag {
                padding: 24px;
            }

            .res-mar {
                margin: 16px;
            }

            /* big landscape tablets, laptops, and desktops */
        }

        @media (min-width:1281px) {
            .res-game {
                padding-left: 10vw;
                padding-right: 10vw;
            }

            .responsive-md {
                font-size: 64px;
            }

            .responsive-lg {
                font-size: 88px;
            }

            .responsive-tx {
                font-size: 32px;
            }

            .res-pad {
                padding: 20px;
            }

            .res-pad-flag {
                padding: 24px;
            }

            .res-mar {
                margin: 16px;
            }

            /* hi-res laptops and desktops */
        }
    </style>
</body>

</html>
